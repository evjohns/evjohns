<link href="../themes/contact.css" rel="stylesheet" type="text/css">

<div class="contact-container">
	<form id="contact-form">
		<h3>Contact me</h3>
		<div>
			<label>Name</label>
			<input id="name" type="text" required>
			<p class="err" id="name"></p>
		</div>
		
		<div>
			<label>Email Address</label>
			<input id="email" type="email" required>
			<p class="err" id="email"></p>
		</div>
		
		<div>
			<label>Message</label>
		</div>
		
		<div>
			<textarea id="message" required></textarea>
			<p class="err" id="message"></p>
		</div>
		
		<input type="submit" value="Submit">

		<div id='message-success'>
			Message sent <img id='message-sent' src='../assets/green-tick.png'>
		</div>

	</form>
</div>

<script>
	$( "#contact-form" ).submit( function(e) {
		e.preventDefault();
		var error = false;
		var isEmail = /^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i;
		
		if ( ! ( $( "input#name" ).val().length > 0 ) ) {
			$( "p.err#name" ).text( "Please enter a name." );
			error = true;
		}
		
		if ( ! ( $( "input#email" ).val().length > 0 ) && ! ( $( "input#email" ).val().match( isEmail ) ) ) {
			$( "p.err#email" ).text( "Please enter an email address." );
			error = true;
		}
		
		if ( ! ( $( "textarea#message" ).val().length > 0 ) ) {
			$( "p.err#message" ).text( "Please enter a message." );
			error = true;
		}
		
		if ( error === true ) {
			return false;
		}
		
		$.ajax( {
			type: "POST",
			url: "../ajax/contact-form.php",
			data: { "name": $( "input#name" ).val(), "email": $( "input#email" ).val(), "message": $( "textarea#message" ).val() },
			success: function(result) {
				$( "form#contact-form >*" ).fadeOut();
				$( "div#message-success" ).delay(1000).fadeIn(500);
			}
		} );
	} );
</script>